{"version":3,"file":"cordova-auth0-plugin.min.js","sources":["../src/version.js","../src/helper/assert.js","../src/helper/object-assign.js","../src/helper/object.js","../src/helper/window.js","../node_modules/url-join/lib/url-join.js","../node_modules/qs/lib/utils.js","../node_modules/qs/lib/formats.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../plugins/cordova/popup-handler.js","../plugins/cordova/plugin-handler.js","../plugins/cordova/index.js"],"sourcesContent":["module.exports = { raw: '9.10.1' };\n","var toString = Object.prototype.toString;\n\nfunction attribute(o, attr, type, text) {\n  type = type === 'array' ? 'object' : type;\n  if (o && typeof o[attr] !== type) {\n    throw new Error(text);\n  }\n}\n\nfunction variable(o, type, text) {\n  if (typeof o !== type) {\n    throw new Error(text);\n  }\n}\n\nfunction value(o, values, text) {\n  if (values.indexOf(o) === -1) {\n    throw new Error(text);\n  }\n}\n\nfunction check(o, config, attributes) {\n  if (!config.optional || o) {\n    variable(o, config.type, config.message);\n  }\n  if (config.type === 'object' && attributes) {\n    var keys = Object.keys(attributes);\n\n    for (var index = 0; index < keys.length; index++) {\n      var a = keys[index];\n      if (!attributes[a].optional || o[a]) {\n        if (!attributes[a].condition || attributes[a].condition(o)) {\n          attribute(o, a, attributes[a].type, attributes[a].message);\n          if (attributes[a].values) {\n            value(o[a], attributes[a].values, attributes[a].value_message);\n          }\n        }\n      }\n    }\n  }\n}\n\n/**\n * Wrap `Array.isArray` Polyfill for IE9\n * source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\n *\n * @param {Array} array\n * @private\n */\nfunction isArray(array) {\n  if (this.supportsIsArray()) {\n    return Array.isArray(array);\n  }\n\n  return toString.call(array) === '[object Array]';\n}\n\nfunction supportsIsArray() {\n  return Array.isArray != null;\n}\n\nexport default {\n  check: check,\n  attribute: attribute,\n  variable: variable,\n  value: value,\n  isArray: isArray,\n  supportsIsArray: supportsIsArray\n};\n","/* eslint-disable no-continue */\n\nfunction get() {\n  if (!Object.assign) {\n    return objectAssignPolyfill;\n  }\n\n  return Object.assign;\n}\n\nfunction objectAssignPolyfill(target) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nexport default {\n  get: get,\n  objectAssignPolyfill: objectAssignPolyfill\n};\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n\nimport assert from './assert';\nimport objectAssign from './object-assign';\n\nfunction pick(object, keys) {\n  return keys.reduce(function(prev, key) {\n    if (object[key]) {\n      prev[key] = object[key];\n    }\n    return prev;\n  }, {});\n}\n\nfunction getKeysNotIn(obj, allowedKeys) {\n  var notAllowed = [];\n  for (var key in obj) {\n    if (allowedKeys.indexOf(key) === -1) {\n      notAllowed.push(key);\n    }\n  }\n  return notAllowed;\n}\n\nfunction objectValues(obj) {\n  var values = [];\n  for (var key in obj) {\n    values.push(obj[key]);\n  }\n  return values;\n}\n\nfunction extend() {\n  var params = objectValues(arguments);\n  params.unshift({});\n  return objectAssign.get().apply(undefined, params);\n}\n\nfunction merge(object, keys) {\n  return {\n    base: keys ? pick(object, keys) : object,\n    with: function(object2, keys2) {\n      object2 = keys2 ? pick(object2, keys2) : object2;\n      return extend(this.base, object2);\n    }\n  };\n}\n\nfunction blacklist(object, blacklistedKeys) {\n  return Object.keys(object).reduce(function(p, key) {\n    if (blacklistedKeys.indexOf(key) === -1) {\n      p[key] = object[key];\n    }\n    return p;\n  }, {});\n}\n\nfunction camelToSnake(str) {\n  var newKey = '';\n  var index = 0;\n  var code;\n  var wasPrevNumber = true;\n  var wasPrevUppercase = true;\n\n  while (index < str.length) {\n    code = str.charCodeAt(index);\n    if (\n      (!wasPrevUppercase && code >= 65 && code <= 90) ||\n      (!wasPrevNumber && code >= 48 && code <= 57)\n    ) {\n      newKey += '_';\n      newKey += str[index].toLowerCase();\n    } else {\n      newKey += str[index].toLowerCase();\n    }\n    wasPrevNumber = code >= 48 && code <= 57;\n    wasPrevUppercase = code >= 65 && code <= 90;\n    index++;\n  }\n\n  return newKey;\n}\n\nfunction snakeToCamel(str) {\n  var parts = str.split('_');\n  return parts.reduce(function(p, c) {\n    return p + c.charAt(0).toUpperCase() + c.slice(1);\n  }, parts.shift());\n}\n\nfunction toSnakeCase(object, exceptions) {\n  if (typeof object !== 'object' || assert.isArray(object) || object === null) {\n    return object;\n  }\n  exceptions = exceptions || [];\n\n  return Object.keys(object).reduce(function(p, key) {\n    var newKey = exceptions.indexOf(key) === -1 ? camelToSnake(key) : key;\n    p[newKey] = toSnakeCase(object[key]);\n    return p;\n  }, {});\n}\n\nfunction toCamelCase(object, exceptions, options) {\n  if (typeof object !== 'object' || assert.isArray(object) || object === null) {\n    return object;\n  }\n\n  exceptions = exceptions || [];\n  options = options || {};\n  return Object.keys(object).reduce(function(p, key) {\n    var newKey = exceptions.indexOf(key) === -1 ? snakeToCamel(key) : key;\n\n    p[newKey] = toCamelCase(object[newKey] || object[key], [], options);\n\n    if (options.keepOriginal) {\n      p[key] = toCamelCase(object[key], [], options);\n    }\n    return p;\n  }, {});\n}\n\nfunction getLocationFromUrl(href) {\n  var match = href.match(\n    /^(https?:|file:)\\/\\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/\n  );\n  return (\n    match && {\n      href: href,\n      protocol: match[1],\n      host: match[2],\n      hostname: match[3],\n      port: match[4],\n      pathname: match[5],\n      search: match[6],\n      hash: match[7]\n    }\n  );\n}\n\nfunction getOriginFromUrl(url) {\n  if (!url) {\n    return undefined;\n  }\n  var parsed = getLocationFromUrl(url);\n  var origin = parsed.protocol + '//' + parsed.hostname;\n  if (parsed.port) {\n    origin += ':' + parsed.port;\n  }\n  return origin;\n}\n\nfunction trim(options, key) {\n  var trimmed = extend(options);\n  if (options[key]) {\n    trimmed[key] = options[key].trim();\n  }\n  return trimmed;\n}\n\nfunction trimMultiple(options, keys) {\n  return keys.reduce(trim, options);\n}\n\nfunction trimUserDetails(options) {\n  return trimMultiple(options, ['username', 'email', 'phoneNumber']);\n}\n\nexport default {\n  toSnakeCase: toSnakeCase,\n  toCamelCase: toCamelCase,\n  blacklist: blacklist,\n  merge: merge,\n  pick: pick,\n  getKeysNotIn: getKeysNotIn,\n  extend: extend,\n  getOriginFromUrl: getOriginFromUrl,\n  getLocationFromUrl: getLocationFromUrl,\n  trimUserDetails: trimUserDetails\n};\n","import objectHelper from './object';\n\nfunction redirect(url) {\n  getWindow().location = url;\n}\n\nfunction getDocument() {\n  return getWindow().document;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getOrigin() {\n  var location = getWindow().location;\n  var origin = location.origin;\n\n  if (!origin) {\n    origin = objectHelper.getOriginFromUrl(location.href);\n  }\n\n  return origin;\n}\n\nexport default {\n  redirect: redirect,\n  getDocument: getDocument,\n  getWindow: getWindow,\n  getOrigin: getOrigin\n};\n","(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n  else if (typeof define === 'function' && define.amd) define(definition);\n  else context[name] = definition();\n})('urljoin', this, function () {\n\n  function normalize (strArray) {\n    var resultArray = [];\n\n    // If the first part is a plain protocol, we combine it with the next part.\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n      var first = strArray.shift();\n      strArray[0] = first + strArray[0];\n    }\n\n    // There must be two or three slashes in the file protocol, two slashes in anything else.\n    if (strArray[0].match(/^file:\\/\\/\\//)) {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n    } else {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n    }\n\n    for (var i = 0; i < strArray.length; i++) {\n      var component = strArray[i];\n\n      if (typeof component !== 'string') {\n        throw new TypeError('Url must be a string. Received ' + component);\n      }\n\n      if (component === '') { continue; }\n\n      if (i > 0) {\n        // Removing the starting slashes for each component but the first.\n        component = component.replace(/^[\\/]+/, '');\n      }\n      if (i < strArray.length - 1) {\n        // Removing the ending slashes for each component but the last.\n        component = component.replace(/[\\/]+$/, '');\n      } else {\n        // For the last component we will combine multiple slashes to a single one.\n        component = component.replace(/[\\/]+$/, '/');\n      }\n\n      resultArray.push(component);\n\n    }\n\n    var str = resultArray.join('/');\n    // Each input component is now separated by a single slash except the possible first plain protocol part.\n\n    // remove trailing slash before parameters or hash\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n    // replace ? in parameters with &\n    var parts = str.split('?');\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\n\n    return str;\n  }\n\n  return function () {\n    var input;\n\n    if (typeof arguments[0] === 'object') {\n      input = arguments[0];\n    } else {\n      input = [].slice.call(arguments);\n    }\n\n    return normalize(input);\n  };\n\n});\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]; // eslint-disable-line max-len\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (obj[i] && typeof obj[i] === 'object') {\n                compacted.push(exports.compact(obj[i], refs));\n            } else if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n        obj[key] = exports.compact(obj[key], refs);\n    });\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats.default;\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    return keys.join(delimiter);\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos));\n            val = options.decoder(part.slice(pos + 1));\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function parseObjectRecursive(chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","import windowHandler from '../../src/helper/window';\nimport qs from 'qs';\nimport urljoin from 'url-join';\n\nfunction PopupHandler(webAuth) {\n  this.webAuth = webAuth;\n  this._current_popup = null;\n  this.options = null;\n}\n\nPopupHandler.prototype.preload = function(options) {\n  var _this = this;\n  var _window = windowHandler.getWindow();\n\n  var url = options.url || 'about:blank';\n  var popupOptions = options.popupOptions || {};\n\n  popupOptions.location = 'yes';\n  delete popupOptions.width;\n  delete popupOptions.height;\n\n  var windowFeatures = qs.stringify(popupOptions, {\n    encode: false,\n    delimiter: ','\n  });\n\n  if (this._current_popup && !this._current_popup.closed) {\n    return this._current_popup;\n  }\n\n  this._current_popup = _window.open(url, '_blank', windowFeatures);\n\n  this._current_popup.kill = function(success) {\n    _this._current_popup.success = success;\n    this.close();\n    _this._current_popup = null;\n  };\n\n  return this._current_popup;\n};\n\nPopupHandler.prototype.load = function(url, _, options, cb) {\n  var _this = this;\n  this.url = url;\n  this.options = options;\n  if (!this._current_popup) {\n    options.url = url;\n    this.preload(options);\n  } else {\n    this._current_popup.location.href = url;\n  }\n\n  this.transientErrorHandler = function(event) {\n    _this.errorHandler(event, cb);\n  };\n\n  this.transientStartHandler = function(event) {\n    _this.startHandler(event, cb);\n  };\n\n  this.transientExitHandler = function() {\n    _this.exitHandler(cb);\n  };\n\n  this._current_popup.addEventListener('loaderror', this.transientErrorHandler);\n  this._current_popup.addEventListener('loadstart', this.transientStartHandler);\n  this._current_popup.addEventListener('exit', this.transientExitHandler);\n};\n\nPopupHandler.prototype.errorHandler = function(event, cb) {\n  if (!this._current_popup) {\n    return;\n  }\n\n  this._current_popup.kill(true);\n\n  cb({ error: 'window_error', errorDescription: event.message });\n};\n\nPopupHandler.prototype.unhook = function() {\n  this._current_popup.removeEventListener('loaderror', this.transientErrorHandler);\n  this._current_popup.removeEventListener('loadstart', this.transientStartHandler);\n  this._current_popup.removeEventListener('exit', this.transientExitHandler);\n};\n\nPopupHandler.prototype.exitHandler = function(cb) {\n  if (!this._current_popup) {\n    return;\n  }\n\n  // when the modal is closed, this event is called which ends up removing the\n  // event listeners. If you move this before closing the modal, it will add ~1 sec\n  // delay between the user being redirected to the callback and the popup gets closed.\n  this.unhook();\n\n  if (!this._current_popup.success) {\n    cb({ error: 'window_closed', errorDescription: 'Browser window closed' });\n  }\n};\n\nPopupHandler.prototype.startHandler = function(event, cb) {\n  var _this = this;\n\n  if (!this._current_popup) {\n    return;\n  }\n\n  var callbackUrl = urljoin('https:', this.webAuth.baseOptions.domain, '/mobile');\n\n  if (event.url && !(event.url.indexOf(callbackUrl + '#') === 0)) {\n    return;\n  }\n\n  var parts = event.url.split('#');\n\n  if (parts.length === 1) {\n    return;\n  }\n\n  var opts = { hash: parts.pop() };\n\n  if (this.options.nonce) {\n    opts.nonce = this.options.nonce;\n  }\n\n  this.webAuth.parseHash(opts, function(error, result) {\n    if (error || result) {\n      _this._current_popup.kill(true);\n      cb(error, result);\n    }\n  });\n};\n\nexport default PopupHandler;\n","import urljoin from 'url-join';\nimport PopupHandler from './popup-handler';\n\nfunction PluginHandler(webAuth) {\n  this.webAuth = webAuth;\n}\n\nPluginHandler.prototype.processParams = function (params) {\n  params.redirectUri = urljoin('https://' + params.domain, 'mobile');\n  delete params.owp;\n  return params;\n};\n\nPluginHandler.prototype.getPopupHandler = function () {\n  return new PopupHandler(this.webAuth);\n};\n\nexport default PluginHandler;\n","import version from '../../src/version';\nimport windowHandler from '../../src/helper/window';\nimport PluginHandler from './plugin-handler';\n\nfunction CordovaPlugin() {\n  this.webAuth = null;\n  this.version = version.raw;\n  this.extensibilityPoints = ['popup.authorize', 'popup.getPopupHandler'];\n}\n\nCordovaPlugin.prototype.setWebAuth = function(webAuth) {\n  this.webAuth = webAuth;\n};\n\nCordovaPlugin.prototype.supports = function(extensibilityPoint) {\n  var _window = windowHandler.getWindow();\n  return (\n    (!!_window.cordova || !!_window.electron) &&\n    this.extensibilityPoints.indexOf(extensibilityPoint) > -1\n  );\n};\n\nCordovaPlugin.prototype.init = function() {\n  return new PluginHandler(this.webAuth);\n};\n\nexport default CordovaPlugin;\n"],"names":["raw","toString","Object","prototype","attribute","o","attr","type","text","Error","variable","value","values","indexOf","check","config","attributes","optional","message","keys","index","length","a","condition","value_message","isArray","array","this","supportsIsArray","Array","call","objectAssignPolyfill","target","TypeError","to","i","arguments","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","get","assign","pick","object","reduce","prev","key","extend","params","obj","push","objectValues","unshift","objectAssign","apply","getLocationFromUrl","href","match","protocol","host","hostname","port","pathname","search","hash","trim","options","trimmed","toSnakeCase","exceptions","assert","p","str","code","newKey","wasPrevNumber","wasPrevUppercase","charCodeAt","toLowerCase","camelToSnake","toCamelCase","parts","split","c","charAt","toUpperCase","slice","shift","keepOriginal","blacklist","blacklistedKeys","merge","base","with","object2","keys2","getKeysNotIn","allowedKeys","notAllowed","getOriginFromUrl","url","parsed","origin","trimUserDetails","trimMultiple","getWindow","window","redirect","location","getDocument","document","getOrigin","objectHelper","context","definition","strArray","resultArray","first","replace","component","join","normalize","module","exports","has","hasOwnProperty","hexTable","source","plainObjects","create","allowPrototypes","concat","mergeTarget","arrayToObject","forEach","item","acc","decodeURIComponent","e","string","String","out","references","refs","lookup","compacted","compact","constructor","isBuffer","percentTwenties","default","formatters","RFC1738","RFC3986","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","Date","toISOString","defaults","delimiter","encode","encoder","utils","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","stringify","generateArrayPrefix","filter","sort","allowDots","formatter","objKeys","decode","opts","format","formats","arrayFormat","PopupHandler","webAuth","_current_popup","PluginHandler","CordovaPlugin","version","extensibilityPoints","preload","_this","_window","windowHandler","popupOptions","width","height","windowFeatures","qs","closed","open","kill","success","close","load","_","cb","transientErrorHandler","event","errorHandler","transientStartHandler","startHandler","transientExitHandler","exitHandler","addEventListener","error","errorDescription","unhook","removeEventListener","callbackUrl","urljoin","baseOptions","domain","pop","nonce","parseHash","result","processParams","redirectUri","owp","getPopupHandler","setWebAuth","supports","extensibilityPoint","cordova","electron","init"],"mappings":"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"}